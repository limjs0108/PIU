<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../static/assets/css/Header.css" />
    <link rel="stylesheet" href="../../static/assets/css/Footer.css" />
    <link rel="stylesheet" href="../../static/assets/css/pickitupStore.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

</head>
<body style="font-family: 'Noto Sans KR'; background-color: rgb(248, 248, 249) !important;">
    <div class="review-container"> <!--전체 컨테이너-->
        <div class="reviews-wrap"> <!--헤더 컨테이너-->
            <div class="flex review_header" > <!--header 컨테이너-->
                <div class="review-header-left"><span class="material-symbols-outlined review-header-left" style="font-weight: 700; font-size: 20px; margin-top: 5px;">
                    arrow_back_ios
                    </span>
                </div>
                <div style="width: 100%;">
                    <h5>상품 후기 작성</h5>
                </div>
            </div>
        </div>
        <div class="space"></div>
        <section class="review_write_container">
            <div>
                <div>
                    <div class="flex p-24" style="align-items: center; padding-bottom: 15px;">
                        <div class="profile_img"><img src="/images/chun2.png"></div>
                        <div class="flex justify-content" style="width: 100%; align-items: center;">
                            <div class="id_and_date">
                                <div class="review_id">춘식이</div>
                                <div class="admin_date">2022-06-14</div>
                            </div>
                            <div><input class="btn_qnaToadmin" type="button" value="글등록"></div>
                        </div>
                    </div>
                    <div class="space flex" style="padding-left: 24px; justify-content: space-between;">
                        <div class="review_item_title">
                            [주방용품] 춘식이가 좋아하는 초록색 고무장갑
                        </div>
                        <div>
                            <label for="attach"> <div class="hide" style="margin-right: 20px;"></div>
                            </label>
                        </div>
                    </div>
                    <div style="margin-top: 8px;">
                        <div style="text-align: center;">
                            <textarea class="user_review" name="" id="" cols="30" rows="10"></textarea>
                        </div>
                        <div class="flex" style="text-align: left; padding: 0  0 10px 24px ; justify-content: space-between;">
                            <label for="attach" class="flex">
                               
                                <div class="thumb"></div><div class="thumb"></div><div class="thumb"></div> 
                            </label>
                            <div class="admin_comment" style="font-size: 11px; margin-top:5px; margin-right: 20px;">첨부파일은 3개 까지만 가능합니다.</div>
                        <input type="file" id="attach" style="display: none;" multiple>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="gototop">
        <span class="material-symbols-outlined toTop" style="font-size: 35px;">
            vertical_align_top
            </span>
    </div> 
<div id="#FooterImport"></div>
</body>
<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script>
    //첨부파일 input태그 가져오기
    const file = document.querySelector("input[type='file']");
    const thumbnail = document.querySelectorAll("label[for='attach'] div.thumb");
    //첨부파일이 등록되었다면 change이벤트 발생
    file.addEventListener("change", function(event){
        //특정 경로의 파일을 읽어올 때 사용.
        for(let i=0;i<thumbnail.length;i++){
            let reader1 = new FileReader();
            if(!event.target.files[i]){
                return;
            }
            reader1.readAsDataURL(event.target.files[i]);
            console.log(event.target.files[i]);
            reader1.onload = function(event){
                //등록된 파일의 경로에 작성된 파일의 타입검사
                if(event.target.result.includes("image")){
                    console.log("이미지 파일입니다.");
                    //등록된 파일의 경로로 대체
                    thumbnail[i].style.backgroundImage = "url(\"" + event.target.result + "\")";
                }else{
                    alert("이미지 파일이 아닙니다.");
                    //미리 준비해놓은 이미지 경로로 대체
                    thumbnail[i].style.backgroundImage = "url(/images/error.png)";
                }
            
            }
            thumbnail[i].style.display = "block";
        }
    });
</script>
<script>
        $(document).ready(function () {
                $("#FooterImport").load("/fix/test/Footer.html");  //푸터부분 인클루드
            }
        );
</script>
</html>