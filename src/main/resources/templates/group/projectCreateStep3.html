<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로젝트 생성</title>
    <link rel="stylesheet" href="/src/main/resources/static/assets/css/createProject.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <style>
        label[for='attach'] div.introImgContainer{
            width: 150px;
            height: 150px;
            background-image: url("img/attach.png");
            background-size: 100% 100%;
            cursor: pointer;
        }
    </style>

</head>
<body>
    <div class="main">
        <div class="cpTitleFrame">
            <div class="cpTitleForm">
                <img src="/src/main/resources/static/images/chun2.png" class="logoImg">
                <div class="cpTitle">프로젝트 작성하기</div>
                <div class="cpTitlepercent">40% 완료</div>
                <div class="cpTitleBtnFrame">
                    <button type="button" class="cpExitBtnForm">
                        <span class="cpExitBtn">나가기</span>
                    </button>
                </div>
            </div>
            <div class="cpTitleBoundary">
                <div class="cpProcessBar" style="transform: translateX(-60%);"></div>
            </div>
        </div>
        <div class="cpBodyFrame">
            <div class="cpSidebarBoundary"></div>
            <div class="cpSidebarFrame">
                <div class="cpSidebarForm">
                    <span class="sidebarStepFrame">
                        <a class="sidebarStepForm">
                            <span class="sidebarStepBox">
                                <div class="sidebarCheckBox">
                                    <span class="material-symbols-outlined">looks_one</span>                                                                                
                                </div>
                                <div class="sidebarStepTitle">기본 정보</div>
                            </span>                    
                        </a>
                    </span>
                    <span class="sidebarStepFrame">
                        <a class="sidebarStepForm">
                            <span class="sidebarStepBox">
                                <div class="sidebarCheckBox">
                                    <span class="material-symbols-outlined">looks_two</span>                                                                                
                                </div>
                                <div class="sidebarStepTitle">제목 및 커버</div>
                            </span>                    
                        </a>
                    </span>
                    <span class="sidebarStep3Frame">
                        <a class="sidebarStepForm">
                            <span class="sidebarStepBox">
                                <div class="sidebarCheckBox">
                                    <span class="material-symbols-outlined">looks_3</span>                                                                                
                                </div>
                                <div class="sidebarStepTitle3">소개</div>
                            </span>                    
                        </a>
                    </span>
                    <span class="sidebarStepFrame">
                        <a class="sidebarStepForm">
                            <span class="sidebarStepBox">
                                <div class="sidebarCheckBox">
                                    <span class="material-symbols-outlined">looks_4</span>                                                                                
                                </div>
                                <div class="sidebarStepTitle">단체 소개</div>
                            </span>                    
                        </a>
                    </span>
                    <span class="sidebarStepFrame">
                        <a class="sidebarStepForm">
                            <span class="sidebarStepBox">
                                <div class="sidebarCheckBox">
                                    <span class="material-symbols-outlined">looks_5</span>                                                                                
                                </div>
                                <div class="sidebarStepTitle">오픈 전 확인사항</div>
                            </span>                    
                        </a>
                    </span>
                </div>
            </div>
            <div class="cpContentFrame">
                <div class="cpContentForm">
                    <div class="cpContentContainer">
                        <div class="cpIntroduceFrame">
                            <h3 class="cpIntroduceTitle">어떻게 진행하실 건가요?</h3>
                            <div class="cpIntroduceTitleInfo">프로젝트 상세내용을 알려주세요.</div>
                            <form action="#" class="imgInsertFrame">
                                <div class="imgInsertBox1">
                                    <div class="imgInsertForm">
                                        <div class="imgInsertContainer">
                                            <label for="attach1"class="imgInsertWindow">
                                                
                                                <div class="introImgContainer">
                                                <div class="introImgBox1">
                                                    <img src="/src/main/resources/static/images/add-photo-portrait.png" class="introImgPlus">
                                                    <h2 class="introImgText">프로젝트에 대한 상세내용</h2>
                                                    <p class="imgFieldDefault"></p>
                                                </div>
                                            </div>
                                            </label>
                                            <input class="attach1" id="attach1" type="file">                                          
                                        </div>
                                        <div class="imgInsertContainer">
                                            <label for="attach2" class="imgInsertWindow">
                                                
                                                <div class="introImgContainer">
                                                <div class="introImgBox2">
                                                    <img src="/src/main/resources/static/images/add-photo-portrait.png" class="introImgPlus">
                                                    <h2 class="introImgText">프로젝트에 대한 상세내용</h2>
                                                    <p class="imgFieldDefault"></p>
                                                </div>
                                            </div>
                                            </label>
                                            <input class="attach2" id="attach2" type="file">                                        
                                        </div>
                                        <div class="imgInsertContainer">
                                            <label for="attach3" class="imgInsertWindow">
                                                
                                                <div class="introImgContainer">
                                                <div class="introImgBox3">
                                                    <img src="/src/main/resources/static/images/add-photo-portrait.png" class="introImgPlus">
                                                    <h2 class="introImgText">프로젝트에 대한 상세내용</h2>
                                                    <p class="imgFieldDefault"></p>
                                                </div>
                                            </div>
                                            </label>
                                            <input class="attach3" id="attach3" type="file">                                           
                                        </div>
                                        
                                        
                                        
                                    </div>
                                </div>
                                <div class="nextBtnFrame">
                                    <button type="button" class="prevPage">
                                        <span class="prevPageBtn">이전</span>
                                    </button>
                                    
                                    <button type="button" class="savePage">
                                        <span class="savePageBtn">저장하기</span>
                                    </button>
                                    <button type="submit" class="nextPage">
                                        <span class="nextPageBtn">다음</span>
                                    </button>
                                </div>
                            </form>
                            
                        </div>
                    </div>
                </div>
                <!-- 옆에 배너입니다 cpContentForm 끝나는 부분에 넣어주시면 됩니다 -->
                <div class="cpThumbNailFrame">
                    <div class="cpThumbNailForm">
                        <div class="cpThumbNailContainer">
                            <div class="cpThumbNailBox">
                                <div class="cpThumbNailInsertForm">
                                    <img src="/src/main/resources/static/images/add-photo-portrait.png" class="defaultImg">
                                </div>
                                <div class="cpThumbNailInfoForm">
                                    <div class="cpThumbNailInfoBox">
                                        <div class="cpThumbNailInfoName">by. 모집단체</div>
                                    </div>
                                    <div class="cpThumbNailInfoBox">
                                        <div class="cpThumbNailInfoTerrain">지형을 선택해주세요</div>
                                    </div>
                                    <div class="cpThumbNailInfoBox">
                                        <div class="cpThumbNailInfoCourse">진행 방식을 선택해주세요</div>
                                    </div>
                                    <h3 class="cpThumbNailInfoText"></h3>
                                </div>
                                <div class="cpThumbNailBlur"></div>                             
                            </div>
                            <div class="cpThumbNailProgressBox">
                                <span class="cpThumbNailProgressComplete"></span>
                                <span class="cpThumbNailProgress"></span>
                                <span class="cpThumbNailProgress"></span>
                                <span class="cpThumbNailProgressLast"></span>
                            </div>
                            <div class="cpThumbNailPrevBox"></div>
                            <button type="button" class="thunmbPrevBtn">
                                <span class="thumbPrevForm">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M15.5 5.5l-6 6.5 6 6.5L14 20l-7.5-8L14 4l1.5 1.5z" fill="#FFF"></path></svg>
                                </span>
                            </button>
                            <div class="cpThumbNailNextBox"></div>
                            <button type="button" class="thumbNextBtn">
                                <span class="thumbNextForm">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M8.5 18.5l6-6.5-6-6.5L10 4l7.5 8-7.5 8-1.5-1.5z" fill="#FFF"></path></svg>
                                </span>
                            </button>                          
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script>
     //첨부파일 input태그 가져오기
    const file1 = document.getElementById("attach1");
    const thumbnail1 = document.querySelector("label[for='attach1'] div.introImgContainer");
    const file2 = document.getElementById("attach2");
    const thumbnail2 = document.querySelector("label[for='attach2'] div.introImgContainer");
    const file3 = document.getElementById("attach3");
    const thumbnail3 = document.querySelector("label[for='attach3'] div.introImgContainer");


    console.log(file1);
    console.log(file2);
    console.log(file3);
    //첨부파일이 등록되었다면 change이벤트 발생
    file1.addEventListener("change", function(event){
        //특정 경로의 파일을 읽어올 때 사용.
        let reader1 = new FileReader();
        console.log(file1);
        // for(let i=0;i<thumbnail.length;i++){
        //     let reader1 = new FileReader();
        //     if(!event.target.files[i]){
        //         console.log("들어옴");
        //         return;
        //     }
            console.log("들어옴");
            reader1.readAsDataURL(event.target.files[0]);
            console.log(event.target.files[0]);
            $('.introImgBox1').css({"display" : "none"});
            reader1.onload = function(event){
                //등록된 파일의 경로에 작성된 파일의 타입검사
                if(event.target.result.includes("image")){
                    console.log("이미지 파일입니다.");
                    //등록된 파일의 경로로 대체
                    thumbnail1.style.backgroundImage = "url(\"" + event.target.result + "\")";
                }else{
                    alert("이미지 파일이 아닙니다.");
                    //미리 준비해놓은 이미지 경로로 대체
                    thumbnail1.style.backgroundImage = "url(/images/error.png)";
                }
            
            }
            thumbnail1.style.display = "block";
        }
    );


    //첨부파일이 등록되었다면 change이벤트 발생
    file2.addEventListener("change", function(event){
        //특정 경로의 파일을 읽어올 때 사용.
        let reader2 = new FileReader();
        console.log(file2);
        // for(let i=0;i<thumbnail.length;i++){
        //     let reader1 = new FileReader();
        //     if(!event.target.files[i]){
        //         console.log("들어옴");
        //         return;
        //     }
            console.log("들어옴");
            reader2.readAsDataURL(event.target.files[0]);
            console.log(event.target.files[0]);
            $('.introImgBox2').css({"display" : "none"});
            reader2.onload = function(event){
                //등록된 파일의 경로에 작성된 파일의 타입검사
                if(event.target.result.includes("image")){
                    console.log("이미지 파일입니다.");
                    //등록된 파일의 경로로 대체
                    thumbnail2.style.backgroundImage = "url(\"" + event.target.result + "\")";
                }else{
                    alert("이미지 파일이 아닙니다.");
                    //미리 준비해놓은 이미지 경로로 대체
                    thumbnail2.style.backgroundImage = "url(/images/error.png)";
                }
            
            }
            thumbnail2.style.display = "block";
        }
    );

    //첨부파일이 등록되었다면 change이벤트 발생
    file3.addEventListener("change", function(event){
        //특정 경로의 파일을 읽어올 때 사용.
        let reader3 = new FileReader();
        console.log(file3);
        // for(let i=0;i<thumbnail.length;i++){
        //     let reader1 = new FileReader();
        //     if(!event.target.files[i]){
        //         console.log("들어옴");
        //         return;
        //     }
            console.log("들어옴");
            reader3.readAsDataURL(event.target.files[0]);
            console.log(event.target.files[0]);
            $('.introImgBox3').css({"display" : "none"});
            reader3.onload = function(event){
                //등록된 파일의 경로에 작성된 파일의 타입검사
                if(event.target.result.includes("image")){
                    console.log("이미지 파일입니다.");
                    //등록된 파일의 경로로 대체
                    thumbnail3.style.backgroundImage = "url(\"" + event.target.result + "\")";
                }else{
                    alert("이미지 파일이 아닙니다.");
                    //미리 준비해놓은 이미지 경로로 대체
                    thumbnail3.style.backgroundImage = "url(/images/error.png)";
                }
            
            }
            thumbnail3.style.display = "block";
        }
    );

</script>
</html>